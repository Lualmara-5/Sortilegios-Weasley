<!-- register.html -->

<!-- Fondo animado mágico -->
<div class="magic-background" id="magicBg"></div>

<div class="register-container">
  <div class="register-card">
    <!-- Icono mágico -->
    <div class="magic-icon">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
        <circle cx="9" cy="7" r="4" />
        <line x1="19" y1="8" x2="19" y2="14" />
        <line x1="22" y1="11" x2="16" y2="11" />
      </svg>
    </div>

    <!-- Título -->
    <h1 class="register-title">Crea tu identidad mágica</h1>
    <p class="register-subtitle">
      Únete al mercado de travesuras<br />
      Weasley y recibe tu carta de<br />
      bienvenida a la Madriguera.
    </p>

    <!-- Formulario -->
    <form class="register-form" (ngSubmit)="onRegister()" #form="ngForm">
      <div class="form-group">
        <label for="alias">Elige tu alias mágico</label>
        <input 
          type="text" 
          id="alias" 
          class="magic-input" 
          placeholder="Ejemplo: Bruja_123"
          [(ngModel)]="nickname"
          name="nickname"
          required
        />
        <span class="input-hint">Solo letras, entre 3 y 30 caracteres</span>
      </div>

      <div class="form-group">
        <label for="mail">Tu correo mágico</label>
        <input
          type="mail"
          id="mail"
          class="magic-input"
          placeholder="Ejemplo: hechizo@hogwarts.com"
          [(ngModel)]="mail"
          name="mail"
          required
        />
        <span class="input-hint">Debe ser un correo válido</span>
      </div>


      <div class="form-group">
        <label for="password-register">Inventa un hechizo secreto</label>
        <input 
          type="password" 
          id="password-register" 
          class="magic-input" 
          placeholder="Escribe el hechizo aquí"
          [(ngModel)]="password"
          name="password"
          required
        />
        <span class="input-hint">Entre 5 y 30 caracteres</span>
      </div>

      <div class="form-group">
        <label for="password-confirm">Repite el conjuro para asegurarlo</label>
        <input 
          type="password" 
          id="password-confirm" 
          class="magic-input" 
          placeholder="Repite el hechizo"
          [(ngModel)]="confirmPassword"
          name="confirmPassword"
          required
        />
        <span class="input-hint">Entre 5 y 30 caracteres</span>
      </div>

      <!-- Botón de registro -->
      <button type="submit" class="magic-button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
          <circle cx="12" cy="12" r="10" />
          <line x1="12" y1="8" x2="12" y2="12" />
          <line x1="12" y1="16" x2="12.01" y2="16" />
        </svg>
        Activar Hechizo de Registro
      </button>

      <!-- Mensajes dinámicos -->
      <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>
      <p class="success" *ngIf="successMsg">{{ successMsg }}</p>

      <div class="register-footer">
        <p>
          Abre el portal e 
          <a routerLink="/login" class="magic-link">ingresa a tu caldero</a>
        </p>
      </div>
    </form>
  </div>
</div>

<footer class="footer">
  <p>©2025 Sortilegios Weasley. Hecho con polvos Flú y un toque de caos Weasley.</p>
</footer>
